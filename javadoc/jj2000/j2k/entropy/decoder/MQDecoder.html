<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_15) on Tue Apr 23 14:51:29 WEST 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>MQDecoder (Java Advanced Imaging Image I/O Tools API core (standalone) 1.2-pre-dr-b04-2011-07-04 API)</title>
<meta name="date" content="2013-04-23">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MQDecoder (Java Advanced Imaging Image I/O Tools API core (standalone) 1.2-pre-dr-b04-2011-07-04 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MQDecoder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../jj2000/j2k/entropy/decoder/EntropyDecoder.html" title="class in jj2000.j2k.entropy.decoder"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../jj2000/j2k/entropy/decoder/StdEntropyDecoder.html" title="class in jj2000.j2k.entropy.decoder"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?jj2000/j2k/entropy/decoder/MQDecoder.html" target="_top">Frames</a></li>
<li><a href="MQDecoder.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">jj2000.j2k.entropy.decoder</div>
<h2 title="Class MQDecoder" class="title">Class MQDecoder</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>jj2000.j2k.entropy.decoder.MQDecoder</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">MQDecoder</span>
extends <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This class implements the MQ arithmetic decoder. It is implemented using
 the software conventions decoder for better performance (i.e. execution
 time performance). The initial states for each context of the MQ-coder are
 specified in the constructor.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../jj2000/j2k/entropy/decoder/MQDecoder.html#MQDecoder(jj2000.j2k.entropy.decoder.ByteInputBuffer, int, int[])">MQDecoder</a></strong>(<a href="../../../../jj2000/j2k/entropy/decoder/ByteInputBuffer.html" title="class in jj2000.j2k.entropy.decoder">ByteInputBuffer</a>&nbsp;iStream,
         int&nbsp;nrOfContexts,
         int[]&nbsp;initStates)</code>
<div class="block">Instantiates a new MQ-decoder, with the specified number of contexts and
 initial states.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../jj2000/j2k/entropy/decoder/MQDecoder.html#checkPredTerm()">checkPredTerm</a></strong>()</code>
<div class="block">Checks for past errors in the decoding process using the predictable
 error resilient termination.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../jj2000/j2k/entropy/decoder/MQDecoder.html#decodeSymbol(int)">decodeSymbol</a></strong>(int&nbsp;context)</code>
<div class="block">Arithmetically decodes one symbol from the bit stream with the given
 context and returns its decoded value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../jj2000/j2k/entropy/decoder/MQDecoder.html#decodeSymbols(int[], int[], int)">decodeSymbols</a></strong>(int[]&nbsp;bits,
             int[]&nbsp;cX,
             int&nbsp;n)</code>
<div class="block">This function performs the arithmetic decoding.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../jj2000/j2k/entropy/decoder/MQDecoder.html#fastDecodeSymbols(int[], int, int)">fastDecodeSymbols</a></strong>(int[]&nbsp;bits,
                 int&nbsp;ctxt,
                 int&nbsp;n)</code>
<div class="block">Decodes 'n' symbols from the bit stream using the same context
 'ctxt'.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../jj2000/j2k/entropy/decoder/ByteInputBuffer.html" title="class in jj2000.j2k.entropy.decoder">ByteInputBuffer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../jj2000/j2k/entropy/decoder/MQDecoder.html#getByteInputBuffer()">getByteInputBuffer</a></strong>()</code>
<div class="block">Returns the underlying 'ByteInputBuffer' from where the MQ
 coded input bytes are read.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../jj2000/j2k/entropy/decoder/MQDecoder.html#getNumCtxts()">getNumCtxts</a></strong>()</code>
<div class="block">Returns the number of contexts in the arithmetic coder.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../jj2000/j2k/entropy/decoder/MQDecoder.html#nextSegment(byte[], int, int)">nextSegment</a></strong>(byte[]&nbsp;buf,
           int&nbsp;off,
           int&nbsp;len)</code>
<div class="block">Resets the MQ decoder to start a new segment.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../jj2000/j2k/entropy/decoder/MQDecoder.html#resetCtxt(int)">resetCtxt</a></strong>(int&nbsp;c)</code>
<div class="block">Resets a context to the original probability distribution.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../jj2000/j2k/entropy/decoder/MQDecoder.html#resetCtxts()">resetCtxts</a></strong>()</code>
<div class="block">Resets a context to the original probability distribution.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MQDecoder(jj2000.j2k.entropy.decoder.ByteInputBuffer, int, int[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MQDecoder</h4>
<pre>public&nbsp;MQDecoder(<a href="../../../../jj2000/j2k/entropy/decoder/ByteInputBuffer.html" title="class in jj2000.j2k.entropy.decoder">ByteInputBuffer</a>&nbsp;iStream,
         int&nbsp;nrOfContexts,
         int[]&nbsp;initStates)</pre>
<div class="block">Instantiates a new MQ-decoder, with the specified number of contexts and
 initial states. The compressed bytestream is read from the 'iStream'
 object.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>iStream</code> - the stream that contains the coded bits</dd><dd><code>nrOfContexts</code> - The number of contexts used</dd><dd><code>initStates</code> - The initial state for each context. A reference is
 kept to this array to reinitialize the contexts whenever 'reset()' or
 'resetCtxts()' is called.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="fastDecodeSymbols(int[], int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fastDecodeSymbols</h4>
<pre>public final&nbsp;boolean&nbsp;fastDecodeSymbols(int[]&nbsp;bits,
                        int&nbsp;ctxt,
                        int&nbsp;n)</pre>
<div class="block">Decodes 'n' symbols from the bit stream using the same context
 'ctxt'. If possible the MQ-coder speedup mode will be used to speed up
 decoding. The speedup mode is used if Q (the LPS probability for 'ctxt'
 is low enough) and the A and C registers permit decoding several MPS
 symbols without renormalization.

 <P>Speedup mode should be used when decoding long runs of MPS with high
 probability with the same context.

 <P>This methiod will return the decoded symbols differently if speedup
 mode was used or not. If true is returned, then speedup mode was used
 and the 'n' decoded symbols are all the same and it is returned ain
 bits[0] only. If false is returned then speedup mode was not used, the
 decoded symbols are probably not all the same and they are returned in
 bits[0], bits[1], ... bits[n-1].</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bits</code> - The array where to put the decoded symbols. Must be of
 length 'n' or more.</dd><dd><code>ctxt</code> - The context to use in decoding the symbols.</dd><dd><code>n</code> - The number of symbols to decode.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if speedup mode was used, false if not. If speedup mode
 was used then all the decoded symbols are the same and its value is
 returned in 'bits[0]' only (not in bits[1], bits[2], etc.).</dd></dl>
</li>
</ul>
<a name="decodeSymbols(int[], int[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decodeSymbols</h4>
<pre>public final&nbsp;void&nbsp;decodeSymbols(int[]&nbsp;bits,
                 int[]&nbsp;cX,
                 int&nbsp;n)</pre>
<div class="block">This function performs the arithmetic decoding. The function receives
 an array in which to put the decoded symbols and an array of contexts
 with which to decode them.

 <P>Each context has a current MPS and an index describing what the
 current probability is for the LPS. Each bit is decoded and if the
 probability of the LPS exceeds .5, the MPS and LPS are switched.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bits</code> - The array where to place the decoded symbols. It should be
 long enough to contain 'n' elements.</dd><dd><code>cX</code> - The context to use in decoding each symbol.</dd><dd><code>n</code> - The number of symbols to decode</dd></dl>
</li>
</ul>
<a name="decodeSymbol(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decodeSymbol</h4>
<pre>public final&nbsp;int&nbsp;decodeSymbol(int&nbsp;context)</pre>
<div class="block">Arithmetically decodes one symbol from the bit stream with the given
 context and returns its decoded value.

 <P>Each context has a current MPS and an index describing what the
 current probability is for the LPS. Each bit is encoded and if the
 probability of the LPS exceeds .5, the MPS and LPS are switched.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - The context to use in decoding the symbol</dd>
<dt><span class="strong">Returns:</span></dt><dd>The decoded symbol, 0 or 1.</dd></dl>
</li>
</ul>
<a name="checkPredTerm()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkPredTerm</h4>
<pre>public&nbsp;boolean&nbsp;checkPredTerm()</pre>
<div class="block">Checks for past errors in the decoding process using the predictable
 error resilient termination. This works only if the encoder used the
 predictable error resilient MQ termination, otherwise it reports wrong
 results. If an error is detected it means that the MQ bit stream has
 been wrongly decoded or that the MQ terminated segment length is too
 long. If no errors are detected it does not necessarily mean that the
 MQ bit stream has been correctly decoded.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True if errors are found, false otherwise.</dd></dl>
</li>
</ul>
<a name="getNumCtxts()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumCtxts</h4>
<pre>public final&nbsp;int&nbsp;getNumCtxts()</pre>
<div class="block">Returns the number of contexts in the arithmetic coder.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of contexts</dd></dl>
</li>
</ul>
<a name="resetCtxt(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetCtxt</h4>
<pre>public final&nbsp;void&nbsp;resetCtxt(int&nbsp;c)</pre>
<div class="block">Resets a context to the original probability distribution.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>c</code> - The number of the context (it starts at 0).</dd></dl>
</li>
</ul>
<a name="resetCtxts()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetCtxts</h4>
<pre>public final&nbsp;void&nbsp;resetCtxts()</pre>
<div class="block">Resets a context to the original probability distribution. The
 original probability distribution depends on the actual
 implementation of the arithmetic coder or decoder.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>c</code> - The index of the context (it starts at 0).</dd></dl>
</li>
</ul>
<a name="nextSegment(byte[], int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextSegment</h4>
<pre>public final&nbsp;void&nbsp;nextSegment(byte[]&nbsp;buf,
               int&nbsp;off,
               int&nbsp;len)</pre>
<div class="block">Resets the MQ decoder to start a new segment. This is like recreating a
 new MQDecoder object with new input data.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>buf</code> - The byte array containing the MQ encoded data. If null the
 current byte array is assumed.</dd><dd><code>off</code> - The index of the first element in 'buf' to be decoded. If
 negative the byte just after the previous segment is assumed, only
 valid if 'buf' is null.</dd><dd><code>len</code> - The number of bytes in 'buf' to be decoded. Any subsequent
 bytes are taken to be 0xFF.</dd></dl>
</li>
</ul>
<a name="getByteInputBuffer()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getByteInputBuffer</h4>
<pre>public&nbsp;<a href="../../../../jj2000/j2k/entropy/decoder/ByteInputBuffer.html" title="class in jj2000.j2k.entropy.decoder">ByteInputBuffer</a>&nbsp;getByteInputBuffer()</pre>
<div class="block">Returns the underlying 'ByteInputBuffer' from where the MQ
 coded input bytes are read.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The underlying ByteInputBuffer.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MQDecoder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../jj2000/j2k/entropy/decoder/EntropyDecoder.html" title="class in jj2000.j2k.entropy.decoder"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../jj2000/j2k/entropy/decoder/StdEntropyDecoder.html" title="class in jj2000.j2k.entropy.decoder"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?jj2000/j2k/entropy/decoder/MQDecoder.html" target="_top">Frames</a></li>
<li><a href="MQDecoder.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013. All Rights Reserved.</small></p>
</body>
</html>
